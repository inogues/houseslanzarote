<header class="site-header">
  <a href="{{ "/" | relLangURL }}" class="site-logo">
  <img src="{{ .Site.Params.logo }}" alt="{{ .Site.Title }}">
</a>

<button class="nav-toggle" aria-expanded="false" aria-controls="main-menu">
    <span class="sr-only">Menu</span>
    <i class="fa-solid fa-bars"></i>
</button>

<nav id="main-menu" class="main-nav">
  {{ $current := . }} {{/* la p√†gina actual */}}
  {{ range .Site.Menus.main }}
    {{/* actiu si el page actual apunta a aquesta entrada o si la URL coincideix */}}
    {{ $active := or
        ($current.IsMenuCurrent "main" .)
        ($current.HasMenuCurrent "main" .)
        (and .Page (eq .Page.RelPermalink $current.RelPermalink))
        (eq (relLangURL .URL) (relLangURL $current.RelPermalink))
    }}
    <a href="{{ .URL | relLangURL }}" class="{{ if $active }}active{{ end }}">{{ .Name }}</a>
  {{ end }}
</nav>

{{ partial "lang-switcher.html" . }}
</header>
